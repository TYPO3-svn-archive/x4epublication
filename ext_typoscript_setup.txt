#########
# Default plugin to display the publications
#########
plugin.tx_x4epublication_pi1 {
	# template of publications containing the different output types
	publicationTemplate =  typo3conf/ext/x4epublication/templates/publications.html

	# template for single vie
	singleViewTemplate = typo3conf/ext/x4epublication/templates/singleView.html
  
	# template file for list view
	templateFile = typo3conf/ext/x4epublication/templates/list.html

	# uid of sysfolder containing the publications, may be overriden by flexform
	pidList = {$publDB.pidList}

	# page uid for the detail view
	detailPageUid = {$publDB.detailPageUid}
	
	# detail page uid for the authors
	authorDetailPageUid = {$persDB.detailPageUid}

	# uid of the page "edit publications"
	editPageUid = {$publDB.editPageUid}

	# uid of the page "create publications"
	newPublicationPageUid = {$publDB.newPublicationPageUid}

	# uids of categories that are available for frontend editing, comma separated
	editableCats = {$publDB.editableCats}

	# selection of the different views
	# 1: listBySubCategory
	# 2: listBySubCategory with edit buttons
	# 3: singleView
	# 4: listView
	modeSelection = 1

	#Start Year to start grabbing the publication from the db
	startYear = 2002

	# dont display these categories in the latest view
	excludeSubCategoryInLatestUid =

	# include these in the latest view
	#includeSubCatInLatestIfAvailable =

	# wrap for the year box
	yearBoxWrap =

	# uids of languages to generate the select box
	langList =

	# disable persdb usage (not 100% sure where this makes sense)
	noPersDB =

	# limit publications to show only if author is within this department
	showOnlyPublWithAuthorFromDepartment =

	# limit publications to show only if author is within this reserach group (if x4eresearchgroup is installed)
	showOnlyPublWithAuthorFromResearchgroup =

	# disable multiple language feature
	disableMultiLang =

	#list view with standard tslib_pibase page browser
	listView {
		results_at_a_time = 10
		maxPages = 7
		showResultCount = 1
		showPBrowserText = 0
		dontLinkActivePage = 1
		tableParams = cellpadding="2" align="center"

		showFirstLast = 1
		pagefloat = center
		showRange = 1
		disabledLinkWrap = <span style="color:#bbb;">|</span>
		inactiveLinkWrap = |
		activeLinkWrap = <strong>|</strong>
		LinksWrap =|
		showResultsWrap = |<br />
		showResultsNumbersWrap = |
		browseBoxWrap =
		browseLinksWrap = |
	}

	# search configuration
	search {
		pagebrowser {
		wraps {
		disabledLinkWrap = <span style="color:#bbb;">|</span>
		inactiveLinkWrap = |
		activeLinkWrap = <strong>|</strong>
		LinksWrap =|
		showResultsWrap = |<br />
		showResultsNumbersWrap = |
		browseBoxWrap =
		browseLinksWrap = |

		}
		maxPages = 7
		showResultCount = 1
		showPBrowserText = 0
		dontLinkActivePage = 1
		tableParams = cellpadding="2" align="center"

		showFirstLast = 1
		pagefloat = center
		showRange = 1
		showFirstLast = 1
	}
  }
}

############
# Frontend editing for the publications
############
plugin.tx_x4epublication_pi2 = USER_INT
plugin.tx_x4epublication_pi2 {
	# uid of sysfolder containing the publications
	pidList = {$publDB.pidList}
	# uid of page "manage publications"
	returnPageUid = {$publDB.returnPageUid}
	# sysfolder of the persons (authors / publishers)
	authorsSysFolderUid = {$persDB.pidList}
	# uids of categories that are available for frontend editing, comma separated
	editableCats = {$publDB.editableCats}
	# template for the different forms
	templateFile = typo3conf/ext/x4epublication/templates/add.html
	# stylesheet to use for the forms
	stylesheet = typo3conf/ext/x4epublication/templates/style.css
	# template for the author search
	searchAuthorTemplateFile =  typo3conf/ext/x4epublication/templates/authorSearch.html
	# template fro the publishers search
	searchPublisherTemplateFile =  typo3conf/ext/x4epublication/templates/publisherSearch.html

	# default language for publication (uid of record in language table)
	defaultPubLang =

	# uids of languages to generate the select box
	langList =
}



#########
# Publication selection for the latest view
#########
plugin.tx_x4epublication_publselect {
	# HTML template for the selection form
	templateFile = typo3conf/ext/x4epublication/templates/choosepublication.html
	# stylesheet for the publication selection
	stylesheet = typo3conf/ext/x4epublication/templates/style.css
	# template for the search form
	publicationSearchTemplateFile = typo3conf/ext/x4epublication/templates/publicationSearch.html
	# uid of the page "search publications" below "choose publications"
	publicationSearchPageUid = {$publDB.publselect.searchPageUid}
	# sysfolder of the persons (authors / publishers)
	authorsSysFolderUid = {$persDB.pidList}
}


########
# search form
########

[globalVar= GP:type=7645]
# Configuring the Auto-Parser for main template:
plugin.tx_automaketemplate_pi1 {
    # Read the template file:
  content = FILE
  content.file = typo3conf/ext/x4epublication/templates/search.html
 
    # Here we define which elements in the HTML that 
    # should be wrapped in subpart-comments:
  elements {

    BODY.all = 1
    BODY.all.subpartMarker = DOCUMENT_BODY
 
    HEAD.all = 1
    HEAD.all.subpartMarker = DOCUMENT_HEADER
    HEAD.rmTagSections = title
 
    TD.all = 1
  }
 
    # Prefix all relative paths with this value:
  #relPathPrefix = fileadmin/kunsthist/_templates/main/
}
 
# Main TEMPLATE cObject for the BODY
temp.mainTemplate = TEMPLATE
temp.mainTemplate {
    # Feeding the content from the Auto-parser to the TEMPLATE cObject:
  template =< plugin.tx_automaketemplate_pi1
    # Select only the content between the <body>-tags
  workOnSubpart = DOCUMENT_BODY

  # Substitute the ###content### subpart with some example content:
  subparts.content < styles.content.get

  subparts.personNav < temp.personNav
}
 
page = PAGE
page.typeNum = 7645
 
# Copying the content from TEMPLATE for <body>-section:
page.10 < temp.mainTemplate
page.includeCSS {
   file1 = fileadmin/webbaukasten/templates/styles/base.css
}
[global]

########
# PDF-VERSION
########
[globalVar= GP:type=4444]
# Default PAGE object:
page = PAGE
page.typeNum = 4444
page.config.pageGenScript = typo3conf/ext/x4epublication/pi1/generatePdf.php
[end]


########
# Publication TXT-Export
########
[globalVar= GP:type=4446]
page = PAGE
page.typeNum = 4446
page.config.disableCharsetHeader = 1
page.config.pageGenScript = typo3conf/ext/x4epublication/pi1/generateTxt.php
[end]